<!-- 地图导航页 -->
<view class="map-container">
  <!-- 地图组件 -->
  <map
    id="buildingMap"
    class="map"
    latitude="{{centerLatitude}}"
    longitude="{{centerLongitude}}"
    scale="{{scale}}"
    markers="{{markers}}"
    show-location="{{true}}"
    enable-rotate="{{false}}"
    enable-overlooking="{{false}}"
    show-compass="{{true}}"
  >
    <!-- 缩放控制按钮 -->
    <cover-view class="map-control zoom-controls">
      <cover-view class="zoom-button" bindtap="zoomIn">
        <cover-view class="zoom-text">+</cover-view>
      </cover-view>
      <cover-view class="zoom-divider"></cover-view>
      <cover-view class="zoom-button" bindtap="zoomOut">
        <cover-view class="zoom-text">−</cover-view>
      </cover-view>
    </cover-view>
  </map>

  <!-- 顶部导航栏 -->
  <view class="nav-bar" style="padding-top: {{statusBarHeight + 10}}px;">
    <view class="nav-title">地图导航</view>
  </view>

  <!-- 底部信息卡片 -->
  <view class="info-panel">
    <view class="building-info">
      <!-- 建筑图片 -->
      <view class="building-image-container">
        <image class="building-image" src="{{building.image}}" mode="aspectFill" />
      </view>

      <!-- 建筑信息 -->
      <view class="building-details">
        <view class="building-name">{{building.name}}</view>
        <view class="building-address">
          <image class="address-icon" src="/assets/icons/location-gray.svg" mode="aspectFit" />
          <text class="address-text">{{building.address}}</text>
        </view>
        <view class="distance-info" wx:if="{{distance}}">
          <text class="distance-label">距离：</text>
          <text class="distance-value">{{distance}}</text>
        </view>
      </view>
    </view>

    <!-- 操作按钮 -->
    <view class="action-buttons">
      <!-- 打电话（预留） -->
      <button class="action-button action-button-secondary" bindtap="callPhone" wx:if="{{building.phoneNumber}}">
        <image class="action-icon" src="/assets/icons/phone.svg" mode="aspectFit" />
        <text class="action-text">电话</text>
      </button>

      <!-- 导航按钮 -->
      <button class="action-button action-button-primary" bindtap="startNavigation">
        <image class="action-icon" src="/assets/icons/navigation.svg" mode="aspectFit" />
        <text class="action-text">开始导航</text>
      </button>
    </view>
  </view>
</view>
